{
  "name": "BSM2 Complete System",
  "description": "Complete BSM2 model based on bsm2_base.py with all components and connections including recycle streams",
  "nodes": [
    {
      "id": "influent-1",
      "type": "bsm2-node",
      "position": { "x": 50, "y": 300 },
      "data": {
        "label": "Influent",
        "componentType": "influent",
        "parameters": {
          "influent_type": "dynamic",
          "flow_rate": 20959,
          "csv_file": "",
          "timestep_resolution": 15
        },
        "isSelected": false
      }
    },
    {
      "id": "input-splitter-1",
      "type": "bsm2-node",
      "position": { "x": 200, "y": 300 },
      "data": {
        "label": "Input Splitter",
        "componentType": "splitter",
        "parameters": { "split_ratio": 0.0 },
        "isSelected": false
      }
    },
    {
      "id": "bypass-plant-1",
      "type": "bsm2-node",
      "position": { "x": 350, "y": 200 },
      "data": {
        "label": "Bypass Plant",
        "componentType": "splitter",
        "parameters": { "split_ratio": 0.95 },
        "isSelected": false
      }
    },
    {
      "id": "combiner-primclar-pre-1",
      "type": "bsm2-node",
      "position": { "x": 500, "y": 350 },
      "data": {
        "label": "Primary Clarifier Pre-Combiner",
        "componentType": "combiner",
        "parameters": {},
        "isSelected": false
      }
    },
    {
      "id": "primary-clarifier-1",
      "type": "bsm2-node",
      "position": { "x": 650, "y": 350 },
      "data": {
        "label": "Primary Clarifier",
        "componentType": "primary-clarifier",
        "parameters": {
          "surface_area": 1500,
          "height": 4
        },
        "isSelected": false
      }
    },
    {
      "id": "combiner-primclar-post-1",
      "type": "bsm2-node",
      "position": { "x": 800, "y": 250 },
      "data": {
        "label": "Primary Clarifier Post-Combiner",
        "componentType": "combiner",
        "parameters": {},
        "isSelected": false
      }
    },
    {
      "id": "bypass-reactor-1",
      "type": "bsm2-node",
      "position": { "x": 950, "y": 250 },
      "data": {
        "label": "Bypass Reactor",
        "componentType": "splitter",
        "parameters": { "split_ratio": 0.95 },
        "isSelected": false
      }
    },
    {
      "id": "combiner-reactor-1",
      "type": "bsm2-node",
      "position": { "x": 1100, "y": 400 },
      "data": {
        "label": "Reactor Combiner",
        "componentType": "combiner",
        "parameters": {},
        "isSelected": false
      }
    },
    {
      "id": "asm1-reactor-1",
      "type": "bsm2-node",
      "position": { "x": 1250, "y": 400 },
      "data": {
        "label": "ASM1 Reactor 1",
        "componentType": "asm1-reactor",
        "parameters": {
          "volume": 1000,
          "kla": 200,
          "so_sat": 8,
          "temp": 15
        },
        "isSelected": false
      }
    },
    {
      "id": "asm1-reactor-2",
      "type": "bsm2-node",
      "position": { "x": 1400, "y": 400 },
      "data": {
        "label": "ASM1 Reactor 2",
        "componentType": "asm1-reactor",
        "parameters": {
          "volume": 1000,
          "kla": 0,
          "so_sat": 8,
          "temp": 15
        },
        "isSelected": false
      }
    },
    {
      "id": "asm1-reactor-3",
      "type": "bsm2-node",
      "position": { "x": 1550, "y": 400 },
      "data": {
        "label": "ASM1 Reactor 3",
        "componentType": "asm1-reactor",
        "parameters": {
          "volume": 1333,
          "kla": 0,
          "so_sat": 8,
          "temp": 15
        },
        "isSelected": false
      }
    },
    {
      "id": "asm1-reactor-4",
      "type": "bsm2-node",
      "position": { "x": 1700, "y": 400 },
      "data": {
        "label": "ASM1 Reactor 4",
        "componentType": "asm1-reactor",
        "parameters": {
          "volume": 1333,
          "kla": 0,
          "so_sat": 8,
          "temp": 15
        },
        "isSelected": false
      }
    },
    {
      "id": "asm1-reactor-5",
      "type": "bsm2-node",
      "position": { "x": 1850, "y": 400 },
      "data": {
        "label": "ASM1 Reactor 5",
        "componentType": "asm1-reactor",
        "parameters": {
          "volume": 1333,
          "kla": 240,
          "so_sat": 8,
          "temp": 15
        },
        "isSelected": false
      }
    },
    {
      "id": "splitter-reactor-1",
      "type": "bsm2-node",
      "position": { "x": 2000, "y": 400 },
      "data": {
        "label": "Reactor Splitter",
        "componentType": "splitter",
        "parameters": { "split_ratio": 0.6 },
        "isSelected": false
      }
    },
    {
      "id": "settler-1",
      "type": "bsm2-node",
      "position": { "x": 2150, "y": 350 },
      "data": {
        "label": "Secondary Settler",
        "componentType": "settler",
        "parameters": {
          "surface_area": 6000,
          "height": 4
        },
        "isSelected": false
      }
    },
    {
      "id": "combiner-effluent-1",
      "type": "bsm2-node",
      "position": { "x": 2300, "y": 200 },
      "data": {
        "label": "Effluent Combiner",
        "componentType": "combiner",
        "parameters": {},
        "isSelected": false
      }
    },
    {
      "id": "thickener-1",
      "type": "bsm2-node",
      "position": { "x": 1200, "y": 600 },
      "data": {
        "label": "Thickener",
        "componentType": "thickener",
        "parameters": {
          "surface_area": 250
        },
        "isSelected": false
      }
    },
    {
      "id": "splitter-thickener-1",
      "type": "bsm2-node",
      "position": { "x": 1350, "y": 600 },
      "data": {
        "label": "Thickener Splitter",
        "componentType": "splitter",
        "parameters": { "split_ratio": 0.6 },
        "isSelected": false
      }
    },
    {
      "id": "combiner-adm1-1",
      "type": "bsm2-node",
      "position": { "x": 800, "y": 600 },
      "data": {
        "label": "ADM1 Combiner",
        "componentType": "combiner",
        "parameters": {},
        "isSelected": false
      }
    },
    {
      "id": "adm1-reactor-1",
      "type": "bsm2-node",
      "position": { "x": 950, "y": 600 },
      "data": {
        "label": "ADM1 Reactor",
        "componentType": "adm1-reactor",
        "parameters": {
          "volume": 3400,
          "temp": 35
        },
        "isSelected": false
      }
    },
    {
      "id": "dewatering-1",
      "type": "bsm2-node",
      "position": { "x": 1100, "y": 750 },
      "data": {
        "label": "Dewatering",
        "componentType": "dewatering",
        "parameters": {
          "efficiency": 0.95
        },
        "isSelected": false
      }
    },
    {
      "id": "storage-1",
      "type": "bsm2-node",
      "position": { "x": 1250, "y": 750 },
      "data": {
        "label": "Storage Tank",
        "componentType": "storage-tank",
        "parameters": {
          "volume": 500
        },
        "isSelected": false
      }
    },
    {
      "id": "splitter-storage-1",
      "type": "bsm2-node",
      "position": { "x": 1400, "y": 750 },
      "data": {
        "label": "Storage Splitter",
        "componentType": "splitter",
        "parameters": { "split_ratio": 0.6 },
        "isSelected": false
      }
    }
  ],
  "edges": [
    {
      "id": "edge-1",
      "source": "influent-1",
      "target": "input-splitter-1",
      "sourceHandle": "output-0",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-2",
      "source": "input-splitter-1",
      "target": "bypass-plant-1",
      "sourceHandle": "output-1",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-3",
      "source": "input-splitter-1",
      "target": "combiner-primclar-pre-1",
      "sourceHandle": "output-0",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-4",
      "source": "bypass-plant-1",
      "target": "combiner-primclar-post-1",
      "sourceHandle": "output-1",
      "targetHandle": "input-1"
    },
    {
      "id": "edge-5",
      "source": "combiner-primclar-pre-1",
      "target": "primary-clarifier-1",
      "sourceHandle": "output-0",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-6",
      "source": "primary-clarifier-1",
      "target": "combiner-primclar-post-1",
      "sourceHandle": "effluent",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-7",
      "source": "combiner-primclar-post-1",
      "target": "bypass-reactor-1",
      "sourceHandle": "output-0",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-8",
      "source": "bypass-reactor-1",
      "target": "combiner-reactor-1",
      "sourceHandle": "output-0",
      "targetHandle": "input-1"
    },
    {
      "id": "edge-9",
      "source": "combiner-reactor-1",
      "target": "asm1-reactor-1",
      "sourceHandle": "output-0",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-10",
      "source": "asm1-reactor-1",
      "target": "asm1-reactor-2",
      "sourceHandle": "output-0",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-11",
      "source": "asm1-reactor-2",
      "target": "asm1-reactor-3",
      "sourceHandle": "output-0",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-12",
      "source": "asm1-reactor-3",
      "target": "asm1-reactor-4",
      "sourceHandle": "output-0",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-13",
      "source": "asm1-reactor-4",
      "target": "asm1-reactor-5",
      "sourceHandle": "output-0",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-14",
      "source": "asm1-reactor-5",
      "target": "splitter-reactor-1",
      "sourceHandle": "output-0",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-15",
      "source": "splitter-reactor-1",
      "target": "settler-1",
      "sourceHandle": "output-0",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-16",
      "source": "settler-1",
      "target": "combiner-effluent-1",
      "sourceHandle": "effluent",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-17",
      "source": "bypass-plant-1",
      "target": "combiner-effluent-1",
      "sourceHandle": "output-0",
      "targetHandle": "input-1"
    },
    {
      "id": "edge-18",
      "source": "bypass-reactor-1",
      "target": "combiner-effluent-1",
      "sourceHandle": "output-1",
      "targetHandle": "input-2"
    },
    {
      "id": "edge-19",
      "source": "settler-1",
      "target": "thickener-1",
      "sourceHandle": "sludge",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-20",
      "source": "thickener-1",
      "target": "splitter-thickener-1",
      "sourceHandle": "output-1",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-21",
      "source": "splitter-thickener-1",
      "target": "combiner-primclar-pre-1",
      "sourceHandle": "output-0",
      "targetHandle": "input-1"
    },
    {
      "id": "edge-22",
      "source": "splitter-thickener-1",
      "target": "combiner-reactor-1",
      "sourceHandle": "output-1",
      "targetHandle": "input-2"
    },
    {
      "id": "edge-23",
      "source": "thickener-1",
      "target": "combiner-adm1-1",
      "sourceHandle": "output-0",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-24",
      "source": "primary-clarifier-1",
      "target": "combiner-adm1-1",
      "sourceHandle": "sludge",
      "targetHandle": "input-1"
    },
    {
      "id": "edge-25",
      "source": "combiner-adm1-1",
      "target": "adm1-reactor-1",
      "sourceHandle": "output-0",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-26",
      "source": "adm1-reactor-1",
      "target": "dewatering-1",
      "sourceHandle": "liquid",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-27",
      "source": "dewatering-1",
      "target": "storage-1",
      "sourceHandle": "output-1",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-28",
      "source": "storage-1",
      "target": "splitter-storage-1",
      "sourceHandle": "output-0",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-29",
      "source": "splitter-storage-1",
      "target": "combiner-primclar-pre-1",
      "sourceHandle": "output-0",
      "targetHandle": "input-2"
    },
    {
      "id": "edge-30",
      "source": "splitter-storage-1",
      "target": "combiner-reactor-1",
      "sourceHandle": "output-1",
      "targetHandle": "input-3"
    },
    {
      "id": "edge-31",
      "source": "settler-1",
      "target": "combiner-reactor-1",
      "sourceHandle": "recycle",
      "targetHandle": "input-0"
    },
    {
      "id": "edge-32",
      "source": "splitter-reactor-1",
      "target": "combiner-reactor-1",
      "sourceHandle": "output-1",
      "targetHandle": "input-4"
    }
  ],
  "settings": {
    "timestep": 15,
    "endTime": 14,
    "startTime": 0
  },
  "createdAt": "2024-01-01T00:00:00Z"
}